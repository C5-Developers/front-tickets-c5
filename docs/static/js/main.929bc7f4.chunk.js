(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{322:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},334:function(e,t,n){},335:function(e,t,n){},336:function(e,t,n){},337:function(e,t,n){},338:function(e,t,n){},339:function(e,t,n){},342:function(e,t,n){},343:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(45),c=n.n(a),i=n(23),s=n(49),o=n(11),l=n(25),u=n(12),j=n(7),d=n.n(j),b=n(360),h=n(363),p=n(94),x=n(14),O="http://50.116.6.25:8000",f="token";function m(e){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(d.a.mark((function e(t){var n,r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(O,"/api/auth/login/"),r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=5,fetch(n,r);case 5:if(200===(a=e.sent).status){e.next=8;break}throw new Error("Usuario o contrase\xf1a incorrecto");case 8:return e.next=10,a.json();case 10:return c=e.sent,e.abrupt("return",c);case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(d.a.mark((function e(t){var n,r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(O,"/api/auth/me"),r={headers:{Authorization:"Bearer ".concat(t)}},e.next=5,fetch(n,r);case 5:return a=e.sent,e.next=8,a.json();case 8:return c=e.sent,e.abrupt("return",c);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function g(e){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(d.a.mark((function e(t){var n,r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(O,"/api/users/"),r={headers:{Authorization:"Bearer ".concat(t)}},e.next=5,fetch(n,r);case 5:return a=e.sent,e.next=8,a.json();case 8:return c=e.sent,e.abrupt("return",c);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function y(e,t){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(d.a.mark((function e(t,n){var r,a,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(O,"/api/users/"),a={method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=5,fetch(r,a);case 5:return c=e.sent,e.next=8,c.json();case 8:return i=e.sent,e.abrupt("return",i);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function T(e,t,n){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(d.a.mark((function e(t,n,r){var a,c,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(O,"/api/users/").concat(t,"/"),c={method:"PATCH",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify(n)},e.next=5,fetch(a,c);case 5:return i=e.sent,e.next=8,i.json();case 8:return s=e.sent,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function A(e,t){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(d.a.mark((function e(t,n){var r,a,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(O,"/api/users/").concat(t,"/"),a={method:"DELETE",headers:{Authorization:"Bearer ".concat(n)}},e.next=5,fetch(r,a);case 5:return c=e.sent,e.next=8,c.json();case 8:return i=e.sent,e.abrupt("return",i);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var H=n(13);function U(e){localStorage.setItem(f,e)}var E=n(1),R=Object(r.createContext)({auth:void 0,login:function(){return null},logout:function(){return null}});function I(e){var t=e.children,n=Object(r.useState)(void 0),a=Object(H.a)(n,2),c=a[0],i=a[1],s=F().getMe;Object(r.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem(f))){e.next=8;break}return e.next=4,s(t);case 4:n=e.sent,i({token:t,me:n}),e.next=9;break;case 8:i(null);case 9:case"end":return e.stop()}}),e)})))()}),[]);var o=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(t),e.next=3,s(t);case 3:n=e.sent,i({token:t,me:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l={auth:c,login:o,logout:function(){c&&(localStorage.removeItem(f),i(null))}};return void 0===c?null:Object(E.jsx)(R.Provider,{value:l,children:t})}var z=function(){return Object(r.useContext)(R)};function F(){var e=Object(r.useState)(!0),t=Object(H.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(null),i=Object(H.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)(null),j=Object(H.a)(l,2),b=j[0],h=j[1],p=z().auth,x=function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,g(p.token);case 4:t=e.sent,a(!1),h(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a(!1),o(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,y(t,p.token);case 4:a(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a(!1),o(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(u.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,T(t,n,p.token);case 4:a(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a(!1),o(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,A(t,p.token);case 4:a(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a(!1),o(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return{error:s,loading:n,users:b,getMe:x,getUsers:O,addUser:f,updateUser:m,deleteUser:v}}function B(e){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(d.a.mark((function e(t){var n,r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(O,"/api/tickets/"),r={method:"GET",headers:{Authorization:"Bearer ".concat(t)}},e.next=5,fetch(n,r);case 5:return a=e.sent,e.next=8,a.json();case 8:return c=e.sent,e.abrupt("return",c);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function P(e,t){return q.apply(this,arguments)}function q(){return(q=Object(u.a)(d.a.mark((function e(t,n){var r,a,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(O,"/api/tickets/?created_by=").concat(t),a={method:"GET",headers:{Authorization:"Bearer ".concat(n)}},e.next=5,fetch(r,a);case 5:return c=e.sent,e.next=8,c.json();case 8:return i=e.sent,e.abrupt("return",i);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function V(e,t,n){return L.apply(this,arguments)}function L(){return(L=Object(u.a)(d.a.mark((function e(t,n,r){var a,c,i,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new FormData).append("title",t.title),a.append("description",t.description),a.append("file",t.file),a.append("created_by",r),c="".concat(O,"/api/tickets/"),i={method:"POST",headers:{Authorization:"Bearer ".concat(n)},body:a},e.next=10,fetch(c,i);case 10:return s=e.sent,e.next=13,s.json();case 13:return o=e.sent,e.abrupt("return",o);case 17:throw e.prev=17,e.t0=e.catch(0),e.t0;case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function J(e,t,n){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(d.a.mark((function e(t,n,r){var a,c,i,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new FormData).append("title",n.title),a.append("description",n.description),a.append("file",n.file),c="".concat(O,"/api/tickets/").concat(t,"/"),i={method:"PATCH",headers:{Authorization:"Bearer ".concat(r)},body:a},e.next=9,fetch(c,i);case 9:return s=e.sent,e.next=12,s.json();case 12:return o=e.sent,e.abrupt("return",o);case 16:throw e.prev=16,e.t0=e.catch(0),e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function G(e,t){return K.apply(this,arguments)}function K(){return(K=Object(u.a)(d.a.mark((function e(t,n){var r,a,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(O,"/api/tickets/").concat(t),a={method:"DELETE",headers:{Authorization:"Bearer ".concat(n)}},e.next=5,fetch(r,a);case 5:return c=e.sent,e.next=8,c.json();case 8:return i=e.sent,e.abrupt("return",i);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Z(){var e=Object(r.useState)(!0),t=Object(H.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(H.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)(null),j=Object(H.a)(l,2),b=j[0],h=j[1],p=z().auth,x=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,B(p.token);case 4:t=e.sent,a(!1),h(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a(!1),o(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,P(p.me.id,p.token);case 4:t=e.sent,a(!1),h(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a(!1),o(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,V(t,p.token,p.me.id);case 4:a(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a(!1),o(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(u.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,J(t,n,p.token);case 4:a(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a(!1),o(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,G(t,p.token);case 4:a(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a(!1),o(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return{loading:n,error:s,tickets:b,getTicketsAdmin:x,getTickets:O,addTicket:f,updateTicket:m,deleteTicket:v}}n(322);function Q(){var e=z().login,t=Object(p.a)({initialValues:{email:"",password:""},validationSchema:x.b({email:x.c().email("Formato incorrecto de correo").required(!0),password:x.c().required(!0)}),onSubmit:function(){var t=Object(u.a)(d.a.mark((function t(n){var r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m(n);case 3:r=t.sent,a=r.access,e(a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),i.b.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()});return Object(E.jsxs)(b.a,{className:"login-form-admin",onSubmit:t.handleSubmit,children:[Object(E.jsx)(b.a.Input,{name:"email",placeholder:"Correo electr\xf3nico",value:t.values.email,onChange:t.handleChange,error:t.errors.email,autoComplete:"off"}),Object(E.jsx)(b.a.Input,{name:"password",type:"password",placeholder:"Contrase\xf1a",value:t.values.password,onChange:t.handleChange,error:t.errors.password}),Object(E.jsx)(h.a,{type:"submit",content:"Iniciar sesi\xf3n",primary:!0,fluid:!0})]})}var W=n(359),X=n(104),Y=n.p+"static/media/logo_top_nav.13e25d4c.png";n(327);function $(){var e=z(),t=e.auth,n=e.logout;return Object(E.jsxs)(W.a,{fixed:"top",className:"top-menu-admin",children:[Object(E.jsx)(W.a.Item,{className:"top-menu-admin__logo",children:Object(E.jsx)("img",{src:Y,alt:"Logo Comisaria Zapopan",className:"top-menu-admin__img-logo"})}),Object(E.jsxs)(W.a.Menu,{position:"right",children:[Object(E.jsx)(W.a.Item,{children:Object(E.jsxs)("b",{children:[" ",function(){var e,n,r;return null!==(e=t.me)&&void 0!==e&&e.first_name&&null!==(n=t.me)&&void 0!==n&&n.last_name?"".concat(t.me.first_name," ").concat(t.me.last_name):null===(r=t.me)||void 0===r?void 0:r.email}()," "]})}),Object(E.jsx)(W.a.Item,{as:s.b,to:"/",onClick:n,children:Object(E.jsx)(X.a,{name:"sign-out"})})]})]})}n(328);function ee(e){var t=e.children,n=Object(o.e)().pathname;return Object(E.jsxs)("div",{className:"side-menu-admin",children:[Object(E.jsx)(te,{pathname:n}),Object(E.jsx)("div",{className:"content",children:t})]})}function te(e){var t,n,r=e.pathname,a=z().auth;return Object(E.jsxs)(W.a,{fixed:"left",borderless:!0,className:"side",vertical:!0,children:[Object(E.jsxs)(W.a.Item,{as:s.b,to:"/",active:"/"===r,children:[Object(E.jsx)(X.a,{name:"home"})," Home"]}),(null===(t=a.me)||void 0===t?void 0:t.is_staff)&&Object(E.jsxs)(W.a.Item,{as:s.b,to:"/admin/users",active:"/admin/users"===r,children:[Object(E.jsx)(X.a,{name:"users"})," Usuarios"]}),(null===(n=a.me)||void 0===n?void 0:n.is_staff)&&Object(E.jsxs)(W.a.Item,{as:s.b,to:"/admin/tickets",active:"/admin/tickets"===r,children:[Object(E.jsx)(X.a,{name:"ticket alternate"})," Tickets - Admin"]}),Object(E.jsxs)(W.a.Item,{as:s.b,to:"/tickets",active:"/tickets"===r,children:[Object(E.jsx)(X.a,{name:"ticket alternate"})," Tickets - Client"]})]})}var ne=n(365),re=n(366),ae=n(367);n(329);function ce(e){var t=e.title,n=e.btnTitle,r=e.btnClick,a=e.btnTitleTwo,c=e.btnClickTwo;return Object(E.jsx)(ne.a,{clearing:!0,color:"blue",padded:"very",children:Object(E.jsx)(re.a,{children:Object(E.jsxs)(re.a.Row,{children:[Object(E.jsx)(re.a.Column,{width:8,children:Object(E.jsx)(ae.a,{as:"h1",floated:"left",color:"blue",children:t})}),Object(E.jsx)(re.a.Column,{width:4}),Object(E.jsx)(re.a.Column,{width:4,children:Object(E.jsxs)("div",{children:[n&&Object(E.jsx)(h.a,{positive:!0,onClick:r,children:n}),a&&Object(E.jsx)(h.a,{negative:!0,onClick:c,children:a})]})})]})})})}n(330);var ie=n(361);function se(e){var t=e.show,n=e.size,r=e.title,a=e.children,c=e.onClose;return Object(E.jsx)("div",{children:Object(E.jsxs)(ie.a,{className:"modal-basic",open:t,onClose:c,size:n,children:[r&&Object(E.jsx)(ie.a.Header,{children:r}),Object(E.jsx)(ie.a.Content,{children:a})]})})}se.defaultProps={size:"tiny"};n(331);function oe(){return Object(E.jsx)("div",{className:"login-admin",children:Object(E.jsxs)("div",{className:"login-admin__content",children:[Object(E.jsx)("h1",{children:"Entrar al panel"}),Object(E.jsx)(Q,{})]})})}n(332);function le(e){var t=e.children;return z().auth?Object(E.jsxs)("div",{className:"client-layout",children:[Object(E.jsx)("h1",{children:"ClientLayout"}),Object(E.jsx)("div",{className:"client-layout__menu",children:Object(E.jsx)($,{})}),Object(E.jsx)("div",{className:"client-layout__main-content",children:Object(E.jsx)(ee,{children:t})})]}):Object(E.jsx)(oe,{})}n(333);function ue(e){var t=e.children;return z().auth?Object(E.jsxs)("div",{className:"admin-layout",children:[Object(E.jsx)("div",{className:"admin-layout__menu",children:Object(E.jsx)($,{})}),Object(E.jsx)("div",{className:"admin-layout__main-content",children:Object(E.jsx)(ee,{children:t})})]}):Object(E.jsx)(oe,{})}var je=n(357),de=n(358),be=n(144),he=n(364);function pe(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ne.a,{clearing:!0,color:"blue",padded:"very",children:Object(E.jsx)(re.a,{children:Object(E.jsxs)(re.a.Row,{children:[Object(E.jsx)(re.a.Column,{width:4,children:Object(E.jsx)(ae.a,{as:"h1",floated:"left",color:"blue",children:"Dashboard"})}),Object(E.jsx)(re.a.Column,{width:8}),Object(E.jsx)(re.a.Column,{width:4,children:Object(E.jsx)(de.a,{text:"Lista de Tickets",padded:"very",className:"button icon",floating:!0,options:[{key:"open",icon:"envelope open outline",text:"Abiertos",value:"open"},{key:"progress",icon:"edit outline",text:"En Progreso",value:"progress"},{key:"close",icon:"lock",text:"Cerrado",value:"close"},{key:"review",icon:"info",text:"Revision",value:"review"},{key:"re-open",icon:"retweet",text:"Re-abierto",value:"re-open"},{key:"finished",icon:"check circle outline",text:"Finalizado",value:"finished"}],fluid:!0})})]})})}),Object(E.jsxs)(re.a,{columns:3,children:[Object(E.jsxs)(re.a.Row,{children:[Object(E.jsx)(re.a.Column,{children:Object(E.jsxs)(ne.a,{children:[Object(E.jsx)(be.a,{ribbon:!0,color:"teal",children:"Abiertos"}),Object(E.jsx)(re.a,{divided:"vertically",children:Object(E.jsxs)(re.a.Row,{children:[Object(E.jsx)(re.a.Column,{width:4}),Object(E.jsx)(re.a.Column,{width:8,children:Object(E.jsx)(he.a,{children:Object(E.jsx)(he.a.Value,{children:"3,322"})})}),Object(E.jsx)(re.a.Column,{width:4,children:Object(E.jsx)(X.a,{name:"envelope open outline",size:"huge",color:"teal"})})]})})]})}),Object(E.jsx)(re.a.Column,{children:Object(E.jsxs)(ne.a,{children:[Object(E.jsx)(be.a,{ribbon:!0,color:"green",children:"En progreso"}),Object(E.jsx)(re.a,{divided:"vertically",children:Object(E.jsxs)(re.a.Row,{children:[Object(E.jsx)(re.a.Column,{width:4}),Object(E.jsx)(re.a.Column,{width:8,children:Object(E.jsx)(he.a,{children:Object(E.jsx)(he.a.Value,{children:"3,322"})})}),Object(E.jsx)(re.a.Column,{width:4,children:Object(E.jsx)(X.a,{name:"edit outline",size:"huge",color:"green"})})]})})]})}),Object(E.jsx)(re.a.Column,{children:Object(E.jsxs)(ne.a,{children:[Object(E.jsx)(be.a,{ribbon:!0,color:"red",children:"Cerrados"}),Object(E.jsx)(re.a,{divided:"vertically",children:Object(E.jsxs)(re.a.Row,{children:[Object(E.jsx)(re.a.Column,{width:4}),Object(E.jsx)(re.a.Column,{width:8,children:Object(E.jsx)(he.a,{children:Object(E.jsx)(he.a.Value,{children:"3,322"})})}),Object(E.jsx)(re.a.Column,{width:4,children:Object(E.jsx)(X.a,{name:"lock",size:"huge",color:"red"})})]})})]})})]}),Object(E.jsxs)(re.a.Row,{children:[Object(E.jsx)(re.a.Column,{children:Object(E.jsxs)(ne.a,{children:[Object(E.jsx)(be.a,{ribbon:!0,color:"blue",children:"Revision"}),Object(E.jsx)(re.a,{divided:"vertically",children:Object(E.jsxs)(re.a.Row,{children:[Object(E.jsx)(re.a.Column,{width:4}),Object(E.jsx)(re.a.Column,{width:8,children:Object(E.jsx)(he.a,{children:Object(E.jsx)(he.a.Value,{children:"3,322"})})}),Object(E.jsx)(re.a.Column,{width:4,children:Object(E.jsx)(X.a,{name:"info",size:"huge",color:"blue"})})]})})]})}),Object(E.jsx)(re.a.Column,{children:Object(E.jsxs)(ne.a,{children:[Object(E.jsx)(be.a,{ribbon:!0,color:"orange",children:"Re-abierto"}),Object(E.jsx)(re.a,{divided:"vertically",children:Object(E.jsxs)(re.a.Row,{children:[Object(E.jsx)(re.a.Column,{width:4}),Object(E.jsx)(re.a.Column,{width:8,children:Object(E.jsx)(he.a,{children:Object(E.jsx)(he.a.Value,{children:"3,322"})})}),Object(E.jsx)(re.a.Column,{width:4,children:Object(E.jsx)(X.a,{name:"retweet",size:"huge",color:"orange"})})]})})]})}),Object(E.jsx)(re.a.Column,{children:Object(E.jsxs)(ne.a,{children:[Object(E.jsx)(be.a,{ribbon:!0,color:"purple",children:"Finalizado"}),Object(E.jsx)(re.a,{divided:"vertically",children:Object(E.jsxs)(re.a.Row,{children:[Object(E.jsx)(re.a.Column,{width:4}),Object(E.jsx)(re.a.Column,{width:8,children:Object(E.jsx)(he.a,{children:Object(E.jsx)(he.a.Value,{children:"3,322"})})}),Object(E.jsx)(re.a.Column,{width:4,children:Object(E.jsx)(X.a,{name:"check circle outline",size:"huge",color:"purple"})})]})})]})})]})]})]})}var xe=n(356),Oe=n(362),fe=(n(334),n(63));function me(e){var t=e.tickets;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(xe.a,{}),Object(E.jsx)(ne.a,{basic:!0,textAlign:"center",padded:"very",children:Object(E.jsx)(h.a,{color:"violet",content:"Crear Ticket",icon:"add",labelPosition:"right",size:"large"})}),Object(E.jsxs)(Oe.a,{className:"table-product-admin",children:[Object(E.jsx)(Oe.a.Header,{children:Object(E.jsxs)(Oe.a.Row,{textAlign:"center",children:[Object(E.jsx)(Oe.a.HeaderCell,{children:"Id"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Titulo"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Area"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Asignado"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Estado"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Acciones"})]})}),Object(E.jsx)(Oe.a.Body,{children:Object(fe.map)(t,(function(e,t){return Object(E.jsxs)(Oe.a.Row,{textAlign:"center",children:[Object(E.jsx)(Oe.a.Cell,{children:e.id}),Object(E.jsx)(Oe.a.Cell,{children:e.title}),Object(E.jsx)(Oe.a.Cell,{children:e.owner}),Object(E.jsx)(Oe.a.Cell,{children:e.assigned_to}),Object(E.jsx)(Oe.a.Cell,{children:e.status}),Object(E.jsx)(ve,{ticket:e})]},t)}))})]})]})}function ve(e){return Object(E.jsxs)(Oe.a.Cell,{textAlign:"center",children:[Object(E.jsx)(h.a,{icon:!0,onClick:function(){return console.log("asignar ticket")},children:Object(E.jsx)(X.a,{name:"share"})}),Object(E.jsx)(h.a,{icon:!0,negative:!0,onClick:function(){return console.log("cancelar ticket")},children:Object(E.jsx)(X.a,{name:"cancel"})})]})}n(335);function ke(e){var t=e.users,n=e.updateUser,r=e.onDeleteUser;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(Oe.a,{className:"table-users-admin",children:[Object(E.jsx)(Oe.a.Header,{children:Object(E.jsxs)(Oe.a.Row,{textAlign:"center",children:[Object(E.jsx)(Oe.a.HeaderCell,{children:"UserName"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Email"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Nombre"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Apellidos"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Activo"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Staff"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Acciones"})]})}),Object(E.jsx)(Oe.a.Body,{children:Object(fe.map)(t,(function(e,t){return Object(E.jsxs)(Oe.a.Row,{textAlign:"center",children:[Object(E.jsx)(Oe.a.Cell,{children:e.username}),Object(E.jsx)(Oe.a.Cell,{children:e.email}),Object(E.jsx)(Oe.a.Cell,{children:e.first_name}),Object(E.jsx)(Oe.a.Cell,{children:e.last_name}),Object(E.jsx)(Oe.a.Cell,{className:"status",children:e.is_active?Object(E.jsx)(X.a,{name:"check"}):Object(E.jsx)(X.a,{name:"close"})}),Object(E.jsx)(Oe.a.Cell,{className:"status",children:e.is_staff?Object(E.jsx)(X.a,{name:"check"}):Object(E.jsx)(X.a,{name:"close"})}),Object(E.jsx)(Ce,{user:e,updateUser:n,onDeleteUser:r})]},t)}))})]})})}function Ce(e){var t=e.user,n=e.updateUser,r=e.onDeleteUser;return Object(E.jsxs)(Oe.a.Cell,{textAlign:"center",children:[Object(E.jsx)(h.a,{icon:!0,onClick:function(){return n(t)},children:Object(E.jsx)(X.a,{name:"edit outline"})}),Object(E.jsx)(h.a,{negative:!0,icon:!0,onClick:function(){return r(t)},children:Object(E.jsx)(X.a,{name:"close"})})]})}var ge=n(369);n(336);function we(e){var t=e.onClose,n=e.onRefetch,r=e.user,a=F(),c=a.addUser,s=a.updateUser,o={className:"black-background",position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0},l=Object(p.a)({initialValues:ye(r),validationSchema:x.b(r?{username:x.c().required(!0),email:x.c().email(!0).required(!0),first_name:x.c(),last_name:x.c(),password:x.c(),is_active:x.a().required(!0),is_staff:x.a().required(!0)}:{username:x.c().required(!0),email:x.c().email(!0).required(!0),first_name:x.c(),last_name:x.c(),password:x.c().required(!0),is_active:x.a().required(!0),is_staff:x.a().required(!0)}),validateOnChange:!1,onSubmit:function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r){e.next=7;break}return e.next=4,s(r.id,a);case 4:i.b.success("Usuario actualizado !",o),e.next=10;break;case 7:return e.next=9,c(a);case 9:i.b.success("Usuario creado !",o);case 10:n(),t(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),i.b.error(e.t0.message,o);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()});return Object(E.jsx)("div",{children:Object(E.jsxs)(b.a,{className:"add-edit-user",onSubmit:l.handleSubmit,children:[Object(E.jsx)(b.a.Input,{name:"username",placeholder:"Nombre de Usuario",value:l.values.username,onChange:l.handleChange,error:l.errors.username}),Object(E.jsx)(b.a.Input,{name:"email",placeholder:"Correo Electronico",value:l.values.email,onChange:l.handleChange,error:l.errors.email}),Object(E.jsx)(b.a.Input,{name:"first_name",placeholder:"Nombre",value:l.values.first_name,onChange:l.handleChange,error:l.errors.first_name}),Object(E.jsx)(b.a.Input,{name:"last_name",placeholder:"Apellidos",value:l.values.last_name,onChange:l.handleChange,error:l.errors.last_name}),Object(E.jsx)(b.a.Input,{name:"password",type:"password",placeholder:"Contrase\xf1a",value:l.values.password,onChange:l.handleChange,error:l.errors.password}),Object(E.jsxs)("div",{className:"add-edit-user__active",children:[Object(E.jsx)(ge.a,{toggle:!0,checked:l.values.is_active,onChange:function(e,t){return l.setFieldValue("is_active",t.checked)}})," Usuario activo"]}),Object(E.jsxs)("div",{className:"add-edit-user__staff",children:[Object(E.jsx)(ge.a,{toggle:!0,checked:l.values.is_staff,onChange:function(e,t){return l.setFieldValue("is_staff",t.checked)}})," Usuario administrador"]}),Object(E.jsx)(h.a,{type:"submit",primary:!0,fluid:!0,content:r?"Actualizar":"Crear"})]})})}function ye(e){return{username:(null===e||void 0===e?void 0:e.username)||"",email:(null===e||void 0===e?void 0:e.email)||"",first_name:(null===e||void 0===e?void 0:e.first_name)||"",last_name:(null===e||void 0===e?void 0:e.last_name)||"",password:"",is_active:!(null===e||void 0===e||!e.is_active),is_staff:!(null===e||void 0===e||!e.is_staff)}}var _e=[{path:"/",layout:ue,component:function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("h1",{children:"Home"})})}},{path:"/admin/users",layout:ue,component:function(){var e=Object(r.useState)(!1),t=Object(H.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(null),s=Object(H.a)(c,2),o=s[0],l=s[1],j=Object(r.useState)(null),b=Object(H.a)(j,2),h=b[0],p=b[1],x=Object(r.useState)(!1),O=Object(H.a)(x,2),f=O[0],m=O[1],v=F(),k=v.loading,C=v.users,g=v.getUsers,w=v.deleteUser;Object(r.useEffect)((function(){return g()}),[f]);var y=function(){return a((function(e){return!e}))},_=function(){return m((function(e){return!e}))},T=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Eliminar usuario ".concat(t.username,"?"))){e.next=12;break}return e.prev=2,e.next=5,w(t.id);case 5:_(),i.b.success("Usuario Eliminado !"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i.b.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ce,{title:"Administrador Usuarios",btnTitle:"Crear Usuario",btnClick:function(){l("Nuevo Usuario"),p(Object(E.jsx)(we,{onClose:y,onRefetch:_})),y()}}),k?Object(E.jsx)(je.a,{active:!0,inline:"centered",children:"Cargando..."}):Object(E.jsx)(ke,{users:C,updateUser:function(e){l("Editar Usuario"),p(Object(E.jsx)(we,{onClose:y,onRefetch:_,user:e})),y()},onDeleteUser:T}),Object(E.jsx)(se,{show:n,onClose:y,title:o,children:h})]})}},{path:"/admin/tickets",layout:ue,component:function(){var e=Object(r.useState)(!1),t=Object(H.a)(e,2),n=t[0],a=(t[1],Z()),c=a.loading,i=a.tickets,s=a.getTicketsAdmin;return Object(r.useEffect)((function(){return s()}),[n]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(pe,{}),c?Object(E.jsx)(je.a,{active:!0,inline:"centered",children:"Cargando..."}):Object(E.jsx)(me,{tickets:i})]})}}],Te=_e;n(337);function Se(e){var t=e.tickets,n=e.updateTicket,r=e.onDeleteTicket;return Object(E.jsxs)(Oe.a,{className:"table-product-admin",children:[Object(E.jsx)(Oe.a.Header,{children:Object(E.jsxs)(Oe.a.Row,{textAlign:"center",children:[Object(E.jsx)(Oe.a.HeaderCell,{children:"Id"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Titulo"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Area"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Asignado"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Estado"}),Object(E.jsx)(Oe.a.HeaderCell,{children:"Acciones"})]})}),Object(E.jsx)(Oe.a.Body,{children:Object(fe.map)(t,(function(e,t){return Object(E.jsxs)(Oe.a.Row,{textAlign:"center",children:[Object(E.jsx)(Oe.a.Cell,{children:e.id}),Object(E.jsx)(Oe.a.Cell,{children:e.title}),Object(E.jsx)(Oe.a.Cell,{children:e.owner}),Object(E.jsx)(Oe.a.Cell,{children:e.assigned_to}),Object(E.jsx)(Oe.a.Cell,{children:e.status}),Object(E.jsx)(Ae,{ticket:e,updateTicket:n,onDeleteTicket:r})]},t)}))})]})}function Ae(e){var t=e.ticket,n=e.updateTicket,r=e.onDeleteTicket;return Object(E.jsxs)(Oe.a.Cell,{textAlign:"center",children:[Object(E.jsx)(h.a,{icon:!0,onClick:function(){return n(t)},children:Object(E.jsx)(X.a,{name:"edit outline"})}),Object(E.jsx)(h.a,{icon:!0,negative:!0,onClick:function(){return r(t)},children:Object(E.jsx)(X.a,{name:"close"})})]})}var Ne=n(153),He=n(355),Ue=n(206),Ee=n(205);n(338);function Re(e){var t=e.onClose,n=e.onRefetch,a=e.ticket,c=Object(r.useState)(a?null===a||void 0===a?void 0:a.file:null),s=Object(H.a)(c,2),o=s[0],l=s[1],j=Z(),O=j.addTicket,f=j.updateTicket,m={className:"black-background",position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0},v=Object(p.a)({initialValues:Ie(a),validationSchema:x.b({title:x.c().required("Titulo es campo obligatorio"),description:x.c().required("Descripcion es campo obligatorio"),file:x.c()}),validateOnChange:!1,onSubmit:function(){var e=Object(u.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=7;break}return e.next=4,f(a.id,r);case 4:i.b.success("Ticket actualizado !",m),e.next=10;break;case 7:return e.next=9,O(r);case 9:i.b.success("Ticket creado !",m);case 10:n(),t(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),i.b.error(e.t0.message,m);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()}),k=Object(r.useCallback)(function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t[0],e.next=3,v.setFieldValue("file",n);case 3:l(URL.createObjectURL(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),C=Object(Ee.a)({accept:"image/jpeg, image/png",noKeybard:!0,multiple:!1,onDrop:k}),g=C.getRootProps,w=C.getInputProps;return Object(E.jsx)("div",{children:Object(E.jsxs)(b.a,{className:"client-edit-ticket",onSubmit:v.handleSubmit,children:[Object(E.jsx)(b.a.Input,{name:"title",placeholder:"Titulo",value:v.values.title,onChange:v.handleChange,error:v.errors.title}),Object(E.jsx)(He.a,{name:"description",placeholder:"Descripcion",value:v.values.description,onChange:v.handleChange,error:v.errors.description}),Object(E.jsx)(h.a,Object(Ne.a)(Object(Ne.a)({type:"button",fluid:!0},g()),{},{color:v.errors.file&&"red",children:o?"Cambiar Imagen":"Subir Imagen"})),Object(E.jsx)("input",Object(Ne.a)({},w())),Object(E.jsx)(Ue.a,{name:"file",src:o}),Object(E.jsx)(xe.a,{}),Object(E.jsx)(h.a,{type:"submit",primary:!0,fluid:!0,content:a?"Editar":"Crear"})]})})}function Ie(e){return{title:(null===e||void 0===e?void 0:e.title)||"",description:(null===e||void 0===e?void 0:e.description)||"",file:(null===e||void 0===e?void 0:e.file)||""}}var ze=[{path:"/",layout:le,component:function(){return Object(E.jsx)("div",{children:Object(E.jsx)("p",{children:"Home Page Client"})})}},{path:"*",layout:le,component:function(){return Object(E.jsx)("div",{children:Object(E.jsx)("p",{children:"Error 404"})})}},{path:"/tickets",layout:le,component:function(){var e=Object(r.useState)(!1),t=Object(H.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(null),s=Object(H.a)(c,2),o=s[0],l=s[1],j=Object(r.useState)(null),b=Object(H.a)(j,2),h=b[0],p=b[1],x=Object(r.useState)(!1),O=Object(H.a)(x,2),f=O[0],m=O[1],v=Z(),k=v.loading,C=v.tickets,g=v.getTickets,w=v.deleteTicket;Object(r.useEffect)((function(){return g()}),[f]);var y=function(){return a((function(e){return!e}))},_=function(){return m((function(e){return!e}))},T=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Eliminar ticket ".concat(t.id))){e.next=12;break}return e.prev=2,e.next=5,w(t.id);case 5:_(),i.b.success("Ticket Eliminado con Exito!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i.b.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(ce,{title:"Tickets - Client",btnTitle:"Nuevo Ticket",btnClick:function(){l("Nuevo Ticket"),p(Object(E.jsx)(Re,{onClose:y,onRefetch:_})),y()}}),k?Object(E.jsx)(je.a,{active:!0,inline:"centered",children:"Cargando..."}):Object(E.jsx)(Se,{tickets:C,updateTicket:function(e){l("Editar Ticket"),p(Object(E.jsx)(Re,{ticket:e,onClose:y,onRefetch:_})),y()},onDeleteTicket:T}),Object(E.jsx)(se,{show:n,onClose:y,title:o,children:h})]})}}],Fe=ze,Be=[].concat(Object(l.a)(Te),Object(l.a)(Fe));function De(){return Object(E.jsx)(s.a,{children:Object(E.jsx)(o.c,{children:Object(E.jsx)(o.a,{children:Object(fe.map)(Be,(function(e,t){return Object(E.jsx)(o.a,{path:e.path,element:Object(E.jsx)(e.layout,{children:Object(E.jsx)(e.component,{})})},t)}))})})})}n(339);var Pe=function(){return Object(E.jsxs)(I,{children:[Object(E.jsx)(De,{}),Object(E.jsx)(i.a,{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,draggable:!0,pauseOnHover:!1})]})},qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,370)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};n(340),n(341),n(342);c.a.render(Object(E.jsx)(Pe,{}),document.getElementById("root")),qe()}},[[343,1,2]]]);
//# sourceMappingURL=main.929bc7f4.chunk.js.map